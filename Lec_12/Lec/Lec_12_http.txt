* Как работи интернета 

    Виж изображение HowDoesInternetWorks.png то показва опростена схема на техническия процес, който се случва, когато отвориш уебсайт в браузър.

    Ето стъпките, през които се минава:
    - Заявка към DNS: Браузърът изпраща името на сайта към DNS (Domain Name System), a DNS сървърът връща конкретния адрес на сайта
    # Компютрите не разбират думи като "wikipedia..org", а те комуникират чрез ip адресите 
    - Свързването с уеб сървъра (HTTP Request): След като браузърът вече знае IP адреса, той се вързва директно със сървъра, където се намира сайтът
    # Стрелката GET / HTTP/1.1 показва, че браузъра изпраща get request към сървъра, за да вземе началната страница
    # Apache HTTP Server е софтуерът, който съхранява файловете на сайта и ги изпраща към браузъра 
    - Когато сървъра приема заявката я обръща обратно към браузъра като има един код на html, който описва структурата на страницата (къде да има текст, къде картинки какви цветове се използват)
    - След като браузъра е получил HTML кода от сървъра го е превърнал във страница, която един потребител вижда

* Характеристики на HTTP 

    Ето някой от характеристиките на HTTP:
    - HTTP (Hypertext Transfer Protocol) e приложен протокол
    # Приложен е този слой на който си комуникират програмите, които вижда потребителя
    - Модел request-response: служи за комуникационен канал в клиент-сървър архитектура, като следва строги правила за ред и формат на съобщенията между участниците
    # Клиентът винаги пита пръв, докато сървъра само отговаря, защото сървъра е длъжен да отговаря само на requests
    - Като транспортен протокол, почти винаги се ползва ТCP/IP, в редки случаи и UDP
    # HTTP стъпва върхy TCP/IP и това гарантира че данните пристигат цели и в правилния ред, UDP в рдяко изключение, стандартния порт на който сървърите слушат за HTTP заявки е порт 80
    - Не пази състояние като всяка клиентска заявка е независима сама по себе си
    # Поради това той няма механизъм за сесии, за да решат този проблем програмистите използват cookies или токени, за да симулират тази памет 

* Жизнен цикъл на една HTTP заявка 

    HTTP е метод за комуникациията, който преминава през следните стъпки:
    - Клиентът отваря комуникационен канал тоест TCP socket, още преди да се разменят някакви данни
    - Клиентът изпраща заявка към сървъра, в HTTP заявката се съдържа цялата информация какво иска клиента
    - Сървърът връща отговор на клиента като сървъра обработва заявката и връща HTML страница, снимка или съобщение за грешка
    - Сървърът затваря socket-a, след като сървъра върне отговора
    # Това се случва защото HTTP е stateless 

* Видове HTTP съобщения: Заявки и отговори

    (Заявка - Request)
    Инициаторът е клиентът, той подава информация на сървъра, достъп до кой ресурс иска да получи и каква операция иска да извърши с него
    # Клиент (наречен още User-Agent) може да бъде всяко софтуерно приложение, спазващо правилата на протокола на комуникация

    (Отговор - Response)
    Отговора се изпраща от уеб сървъра като резултат от изпълнението на клиентска заявка. Уеб сървърът е приложение, което приема заявки през Интернет (обикновенно през браузър) и връща уеб съдържание
    # То работи по правилата на HTTP и доставя ресурсите, които потребителят е поискал.

* От какво се състои HTTP заявка 

    Една HTTP заявка се състои от три части, която браузърът праща към сървъра:
    - Начален ред (Start line)
    - Хедъри (Headers)
    - Тяло (Body / Данни)


    (Start line)
    Тази част се съдържа от 3 елементаа:
    - HTTP метод представлява командата или действие, представлява глагол защото казваш на сървъра какво да направи
    - URL (Uniform Resource Locator) е адреса на ресурса, който се търси от клиента 
    - Версия на HTTP представлява версията на протокола, която ще се ползва за комуникация
    Пример: GET en.wikipedia.org/w/index.php HTTP/1.1
    # Заявка означава, че се използва версия 1.1 и иска да вземе ресурса който е на дадения url 

    (Headers)
    Хедърите служат за предаване на допълнителна информация за заявката (метаданни), например какъв тип съдържание се очаква, кой е хостът, какъв браузър се използва
    # Възможно е да са дефинирани много хедъри, като всяка от тях има точно един ред и след формата: "Име на хедъра и стойност на хедъра"

    (Body)
    В тялоото са намират данните, които потребителя изпраща към сървъра
    # Тази част е опционално като може да съдържа много редове както и празни

* Структура на един URL (Uniform Resource Loader)
    
    URL е стандартизираният адрес, който се използва, за да намери ресурс (примерно уеб страница) в интернета

    Примера http://en.wikipedia.org:80/w/index.php?search=Students&dd=true#last може да се сведе на следните части:
    - Scheme: показва протокола, който се използва за достъп до ресурса, в примера е стандартен https, но може да бъде https или ftp
    - FQDN или хост: това е името на сървъра (домейн), където се намира ресурс
    - port: указва на кой порт сървъра слуша за заявки, порт 80 е стандартния за HTTP заявки, докато за HTTPS е 443
    - path: указва пътя до ресурса (w/index.php) 
    - Query String: започва винаги със ? и това са параметри които се изпраща към сървъра, в примера се пращат две променлива search=Students, dd=true като са разделени с &
    - Anchor: Тази част не се изпраща към сървъра

* Основни HTTP методи 

    Основните HTTP методи определят какво действие клиентът иска да извърши върху даден ресурс на сървъра:
    - GET: използва се за зареждане на ресурс от сървъра
    - HEAD: същото като GЕТ, само че отговорът няма да върне тяло, а само хедъри
    - POST: изпраща данните (примерно в HTML форма) за обработка от сървъра, данните се съдържат в тялото на зяавката
    # В контекста на REST POST създава ресурс
    - PUT: актуализира даден ресурс
    - PATCH: актуализира частично даден ресурс
    - DELETE: трие даден ресурс 

* HTTP отговор 

    Структурата на един HTTP отговор (отговор, който браузърът връща към клиента) съдържа три основни компонента:
    - Начален ред
    - Хедъри
    - Данни (Тяло)
    
    (Начален ред)
    Началания ред съдържа три елемента:
    - Версията на HTTP
    - Статус кода
    # Този статус код обяснява резултата от изпълнението на заявката (примерно дали е успешна или не)
    - Причина, това е кратко обяснение на статус кода

    (Хедъри)
    Хедърите носят допълнителна информация (метаданни) за сървъра или съдържанието.

    (Данни)
    Това е същинската част на отговора, най-често може да има HTML документ и това ще е кодът, които образува визуализира като уеб страница 

    Пример за отговор на заявката:
    - HTTP/1.1 200 OK
    - Date: Wed, 07 Jan 2026 19:08:15 GMT
    - Server: Apache

* HTTP статус кодове 

    Трицифрени кодове, които показват какъв е резултатът от обработката на клиентската заявка, те са групирани в 5 категории

    (HTTP статус кодове: група 100)
    Служат за временни кодове, дали заявката е пристигнала, но сървърът все още не е готов с резултата, като не споменават дали заявката е била успешна или не:
    - 100 Continue
    # Този код се използва, когато клиентътизпраща голям обем данни
    - 101 Switching protocols
    # Този код показва, че сървърът се е съгласил да промени протокола, по който си комуникира с клиента.
    - 103 Early Hints
    # Този код служи за ускоряване на зареждането на страниците
    # На практика почти винаги клиентските библиотеки ги скриват.

    (HTTP статус кодове: група 200)
    Сървърът е обработил успешно клиентската заявка:
    - 200 OK
    # Заявката е напълно успешн
    - 206 Partial content
    # Сървърът е изпълнил успешно заявката, но връща само част от ресурса, а не целия файл

    (HTTP статус кодове: група 300)
    Ресурсът е наличен, но е разположен на друго място:
    - 301 Moved permanently
    # Ресурсът вече не съществува на стария адрес и никога няма да се върне там
    - 304 Not Modified
    - 307 Temporary redirect
    # Ресурсът временно се намира на друг адрес, но в бъдеще ще се върне на стария

    (HTTP статус кодове: група 400)
    Клиентска грешка:
    - 400 Bad Request
    # Сървърът не може да разбере какво се иска от него, защото заявката е сгрешена или повредена
    - 401 Not Authorized (семантично означава "unauthenticated")
    - 404 Not Found
    # Сървърът работи нормално, връзката е успешна, но ресурсът, който се търси, не съществува на този адрес
    - 408 Request Timeout
    # Сървърът е чакал твърде дълго да получи пълната заявка от клиента и е прекъснал връзката

    (HTTP статус кодове: група 500)
    Сървърна грешка:
    - 500 Internal Server Error
    # Проблем в програмния код на сайта или в базата данни, сървъра не може да определи каква е 
    - 501 Not Implemented
    # Сървърът не поддържа функционалността, необходима за изпълнение на заявката
    - 503 Service Unavailable
    # Сървърът в момента не може да обработи заявката, поради претоварване или профилактика

* HTTP хедъри: Общи (General Headers)

    Хедирте могат да се използват едновременно в заявки и в отговорите, съдържат информация за самото съобщение или за метода на комуникация
    Примери:
    - Connection: keep-alive указва, че връзката трябва да остане отворена за следващи съобщения
    - Date: Sat, 17 Nov 2024 16:08:15 GMT показва точното време на генериране на съобщението

* HTTP хедъри: Заявка (Request Headers)

    Има специфични хедъри само за заявките и могат да съдържат данни за самата заявка или за клиента 
    Примери:
    - Accept: text/html това подксазва на сървъра да върне резултата в html формат
    - Accept-Charset: utf-8 Указва предпочитаната кодировка на символите
    - Accept-Language: en-US Указва, че предпочитаният език на съдържанието е американски английски
    - User-Agent: Mozilla/4.0 Показва какъв софтуер използва клиентът

* HTTP хедъри: Отговор (Response Headers)

    Съдържат информация за сървъра и формата на съобщението
    Примери:
    - Server: Apache показва софтуера на уеб сървъра, който обравотва заявката
    - Allow: GET, HEAD изброява кои HTTP методи са разрешени за използване върху конкретен ресурс

* HTTP сесии - механизми

    HTTP протоколът няма вградена поддръжка на сесии, това означава, че сървърът не помни потребителя между две различни зареждания на страници
    За да може сървърът да разбере, че поредица от заявки идват от един и същи клиент се използват три основни метода:
    - Бисквитки (Cookies) те представляват малки текстови файлове, генерирани от сървъра и изпратени на клиента в header-ите, като чрез информацията в тях може да се идентифицира сесията
    # После клиентът праща тези запазени текстови файлове, за да може сървъра да се сети кой е този клиент
    - Скрити полета: HTML страницата съдържа форма с поле, което е скрито и не се визуализира в браузър, но стойността му се праща като част от заявката и стойността му идентифицира сесията (<input type>="hidden")
    - URL rewriting тук идентификацията става чрез добавяме в края на всяко URL данни, които да идентифицират сесията

* Разликата между HTTP и HTTPS  

    (HTTP)
    Това представлява Insecure Connection, това означаа, че данните, предавани между потребителя и сървъра, не са защитени и могат да бъдат прихванати

    (HTTPS)
    Това представлява Encrypted Connection, данните са шифрирани и нечетима за външни лица
    # За да работи защитеният HTTPS протокол, сървърът трябва да притежава валиден сертификат за сигурност

    SSL сертификатът представлява малък файл инсталиран на сървъра, който използва две ключови функции:
    - Удостоверява самоличността: Гарантира на браузър, че сайтът, с който си комуникира, е наистина този, за който се представя
    - Позволява криптиране: Този сертификат съдържа необходимите тайни ключове, с които браузъра и сървърът си криптират информацията

* HTTP/2 vs HTTP/1.1

    Има пет ключови предимства между HTTP/2 И HTTP/1.1:
    - Ефективност на данните, понеже HTTP/2 e двоичен, вместо текстови, това го прави по-бърз
    - Начин на пренос (мултиплексиране), при HTTP/2 всички заявки минават едновременно, вместо в HTTP/1.1 да се случват на опашка, ако една се забави, всички ще трябва да чакат
    - Ефективност на връзката, понеже HTTP/2 постига паралелизъм само с една TCP връзка между клиента и сървъра
    - 